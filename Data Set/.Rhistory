# You need to adjust the work environment to run this code
setwd("/Users/mingyang/Desktop/SMU/File Management & Database/7330-Term-Porject/Data Set")
library(tidyverse)
# text mining library
library(tidytext)
vis_dat(tweets)
#plotting and pipes
library(ggplot2)
#Look at data
library(visdat)
# Look at missing Data
library(naniar)
tweets = read_csv("fixed_location_tweets3.csv")
tweets = data.frame(tweets)
# Look at missing data
gg_miss_var(tweets)
########################################################################################
# Do some regex operation to get rid of urls and "\n" or "\r" new lines under text field
# Text processing - create function to remove url and new line in text
########################################################################################
clean_text = function(string){
#Remove URL
string = gsub("\\s?(f|ht)(tp)(s?)(://)([^\\.]*)[\\.|/](\\S*)","", string)
#Remove \r and \n
string = gsub("\r?\n|\r"," ",string)
return(string)
}
# Performance regex on tweets$text column
tweets$text = clean_text(tweets$text)
head(tweets$date)
# Performe Date adjustment
tweets$date = ymd_hms(tweets$date)
?ymd_hms
# Performe Date adjustment
library(lubridate)
tweets$date = ymd_hms(tweets$date)
head(tweets$date)
str(tweets)
tweets = read_csv("fixed_location_tweets3.csv")
str(tweets)
# Uniform Date Format
library(lubridate)
tweets$date = ymd_hms(tweets$date)
str(tweets)
tweets = read_csv("fixed_location_tweets3.csv")
tweets = data.frame(tweets)
########################################################################################
# Do some regex operation to get rid of urls and "\n" or "\r" new lines under text field
# Text processing - create function to remove url and new line in text
########################################################################################
clean_text = function(string){
#Remove URL
string = gsub("\\s?(f|ht)(tp)(s?)(://)([^\\.]*)[\\.|/](\\S*)","", string)
#Remove \r and \n
string = gsub("\r?\n|\r"," ",string)
return(string)
}
# Performance regex on tweets$text column
tweets$text = clean_text(tweets$text)
# Uniform Date Format
library(lubridate)
tweets$date = ymd_hms(tweets$date)
str(tweets)
